<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BaintWallet - Premium Crypto Wallet</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            font-family: 'Poppins', 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body { 
            margin: 0; 
            padding: 0;
            overflow-x: hidden;
        }
        
        #root { 
            min-height: 100vh; 
        }
        
        /* Premium Animated Gradient Background */
        @keyframes meshGradient {
            0%, 100% { 
                background-position: 0% 0%, 100% 100%, 50% 50%; 
            }
            33% { 
                background-position: 100% 0%, 0% 100%, 25% 75%; 
            }
            66% { 
                background-position: 50% 100%, 50% 0%, 75% 25%; 
            }
        }
        
        .animated-gradient {
            background: 
                radial-gradient(at 0% 0%, #667eea 0px, transparent 50%),
                radial-gradient(at 100% 100%, #764ba2 0px, transparent 50%),
                radial-gradient(at 50% 50%, #f093fb 0px, transparent 50%),
                radial-gradient(at 100% 0%, #4facfe 0px, transparent 50%),
                linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            background-size: 200% 200%, 200% 200%, 200% 200%, 200% 200%, 100% 100%;
            animation: meshGradient 20s ease infinite;
        }
        
        /* Advanced Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(30px) saturate(200%);
            -webkit-backdrop-filter: blur(30px) saturate(200%);
            border: 2px solid rgba(255, 255, 255, 0.5);
            box-shadow: 
                0 8px 32px 0 rgba(31, 38, 135, 0.37),
                inset 0 1px 1px 0 rgba(255, 255, 255, 0.5);
        }
        
        /* Dark Mode Premium */
        .dark .glass-card {
            background: rgba(15, 15, 35, 0.95);
            border: 2px solid rgba(139, 92, 246, 0.3);
            box-shadow: 
                0 8px 32px 0 rgba(139, 92, 246, 0.2),
                inset 0 1px 1px 0 rgba(139, 92, 246, 0.1),
                0 20px 60px -10px rgba(139, 92, 246, 0.3);
        }
        
        .dark {
            color: #f5f5f5;
        }
        
        .dark .bg-gray-50 {
            background: rgba(30, 30, 50, 0.6) !important;
            border: 1px solid rgba(139, 92, 246, 0.2);
        }
        
        .dark .bg-gray-100 {
            background: rgba(25, 25, 45, 0.8) !important;
            border: 1px solid rgba(139, 92, 246, 0.15);
        }
        
        /* Premium Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes scaleIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
            50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.8); }
        }
        
        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .fade-in { animation: fadeIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .slide-in { animation: slideIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .slide-up { animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .scale-in { animation: scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .pulse-slow { animation: pulse 3s ease-in-out infinite; }
        .float-animation { animation: float 4s ease-in-out infinite; }
        .glow-animation { animation: glow 2s ease-in-out infinite; }
        
        .shimmer {
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            background-size: 1000px 100%;
            animation: shimmer 3s infinite;
        }
        
        /* Premium Hover Effects */
        .hover-lift {
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .hover-lift:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(139, 92, 246, 0.4);
        }
        
        .hover-glow:hover {
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.6);
            transform: scale(1.05);
        }
        
        .hover-scale:hover {
            transform: scale(1.15) rotate(5deg);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        /* Premium Button */
        .premium-button {
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s;
        }
        
        .premium-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }
        
        .premium-button:hover::before {
            left: 100%;
        }
        
        /* Gradient Text */
        .gradient-text {
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientFlow 5s ease infinite;
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
        }
        
        /* Loading Spinner */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .spinner {
            animation: spin 1s linear infinite;
        }
        
        /* Dot indicators */
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s;
        }
        
        .dot-active {
            width: 32px;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.9);
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        
        function App() {
          const [wallet, setWallet] = useState(null);
          const [loading, setLoading] = useState(false);
          const [message, setMessage] = useState('');
          const [seedInput, setSeedInput] = useState('');
          const [view, setView] = useState('intro');
          const [introStep, setIntroStep] = useState(0);
          const [sendTo, setSendTo] = useState('');
          const [sendAmount, setSendAmount] = useState('');
          const [isTestnet, setIsTestnet] = useState(true);
          const [chain, setChain] = useState('ETH');
          const [txs, setTxs] = useState([]);
          const [showSeed, setShowSeed] = useState(false);
          const [tokens, setTokens] = useState([]);
          const [loadingTokens, setLoadingTokens] = useState(false);
          const [selectedToken, setSelectedToken] = useState(null);
          const [sendTokenAmount, setSendTokenAmount] = useState('');
          const [prices, setPrices] = useState({});
          const [darkMode, setDarkMode] = useState(false);
          const [countingBalance, setCountingBalance] = useState(0);
          const qrRef = useRef(null);

          const chains = {
            ETH: {
              name: 'Ethereum',
              symbol: 'ETH',
              icon: '‚ü†',
              color: 'from-blue-500 to-purple-600',
              testnet: { 
                rpc: 'https://ethereum-sepolia-rpc.publicnode.com', 
                explorer: 'https://sepolia.etherscan.io', 
                chainId: 11155111 
              },
              mainnet: { 
                rpc: 'https://ethereum-rpc.publicnode.com', 
                explorer: 'https://etherscan.io', 
                chainId: 1 
              }
            },
            BNB: {
              name: 'BNB Chain',
              symbol: 'BNB',
              icon: '‚óÜ',
              color: 'from-yellow-400 to-orange-500',
              testnet: { 
                rpc: 'https://bsc-testnet-rpc.publicnode.com', 
                explorer: 'https://testnet.bscscan.com', 
                chainId: 97 
              },
              mainnet: { 
                rpc: 'https://bsc-rpc.publicnode.com', 
                explorer: 'https://bscscan.com', 
                chainId: 56 
              }
            },
            AVAX: {
              name: 'Avalanche',
              symbol: 'AVAX',
              icon: '‚ñ≤',
              color: 'from-red-500 to-pink-600',
              testnet: { 
                rpc: 'https://api.avax-test.network/ext/bc/C/rpc', 
                explorer: 'https://testnet.snowtrace.io', 
                chainId: 43113 
              },
              mainnet: { 
                rpc: 'https://api.avax.network/ext/bc/C/rpc', 
                explorer: 'https://snowtrace.io', 
                chainId: 43114 
              }
            },
            BASE: {
              name: 'Base',
              symbol: 'ETH',
              icon: '‚óâ',
              color: 'from-blue-600 to-indigo-700',
              testnet: { 
                rpc: 'https://sepolia.base.org', 
                explorer: 'https://sepolia.basescan.org', 
                chainId: 84532 
              },
              mainnet: { 
                rpc: 'https://mainnet.base.org', 
                explorer: 'https://basescan.org', 
                chainId: 8453 
              }
            },
            POLYGON: {
              name: 'Polygon',
              symbol: 'MATIC',
              icon: '‚¨°',
              color: 'from-purple-500 to-purple-700',
              testnet: { 
                rpc: 'https://rpc-amoy.polygon.technology', 
                explorer: 'https://amoy.polygonscan.com', 
                chainId: 80002 
              },
              mainnet: { 
                rpc: 'https://polygon-rpc.com', 
                explorer: 'https://polygonscan.com', 
                chainId: 137 
              }
            }
          };

          const TOKEN_ADDRESSES = {
            ETH: {
              USDT: '0xdAC17F958D2ee523a2206206994597C13D831ec7',
              USDC: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',
              DAI: '0x6B175474E89094C44Da98b954EedeAC495271d0F'
            },
            BNB: {
              USDT: '0x55d398326f99059fF775485246999027B3197955',
              USDC: '0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d',
              BUSD: '0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56'
            },
            POLYGON: {
              USDT: '0xc2132D05D31c914a87C6611C10748AEb04B58e8F',
              USDC: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174',
              DAI: '0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063'
            }
          };

          const ERC20_ABI = [
            "function balanceOf(address) view returns (uint256)",
            "function decimals() view returns (uint8)",
            "function symbol() view returns (string)",
            "function transfer(address to, uint256 amount) returns (bool)",
            "function name() view returns (string)"
          ];

          const introSlides = [
            {
              icon: 'üåü',
              title: 'Welcome to BaintWallet',
              description: 'The most advanced crypto wallet designed for the modern Web3 user. Experience the future of digital finance.',
              gradient: 'from-blue-500 to-purple-600'
            },
            {
              icon: 'üîê',
              title: 'Your Keys, Your Crypto',
              description: 'Military-grade encryption keeps your assets secure. We never store your private keys - they stay on your device.',
              gradient: 'from-purple-500 to-pink-600'
            },
            {
              icon: '‚ö°',
              title: 'Multi-Chain Support',
              description: 'Seamlessly manage assets across Ethereum, BNB Chain, Avalanche, Polygon, and Base with instant switching.',
              gradient: 'from-yellow-400 to-orange-500'
            },
            {
              icon: 'üíé',
              title: 'Premium Experience',
              description: 'Real-time prices, token management, transaction history, and the most beautiful UI in crypto.',
              gradient: 'from-indigo-500 to-purple-600'
            }
          ];

          const celebrate = () => {
            confetti({
              particleCount: 100,
              spread: 70,
              origin: { y: 0.6 }
            });
          };

          const showMsg = (msg, type = 'info') => {
            setMessage(msg);
            if (type === 'success') celebrate();
            setTimeout(() => setMessage(''), 4000);
          };

          const getRpc = () => {
            const c = chains[chain];
            return isTestnet ? c.testnet.rpc : c.mainnet.rpc;
          };

          const getProvider = () => {
            return new ethers.providers.JsonRpcProvider(getRpc());
          };

          const getExplorer = () => {
            const c = chains[chain];
            return isTestnet ? c.testnet.explorer : c.mainnet.explorer;
          };

          useEffect(() => {
            if (wallet && wallet.balance) {
              const target = parseFloat(wallet.balance);
              const duration = 1000;
              const steps = 30;
              const increment = target / steps;
              let current = 0;
              
              const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                  setCountingBalance(target);
                  clearInterval(timer);
                } else {
                  setCountingBalance(current);
                }
              }, duration / steps);
              
              return () => clearInterval(timer);
            }
          }, [wallet?.balance]);

          const fetchPrices = async () => {
            try {
              const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=ethereum,binancecoin,avalanche-2,matic-network&vs_currencies=usd');
              const data = await response.json();
              
              setPrices({
                ETH: data.ethereum?.usd || 0,
                BNB: data.binancecoin?.usd || 0,
                AVAX: data['avalanche-2']?.usd || 0,
                MATIC: data['matic-network']?.usd || 0
              });
            } catch (e) {
              console.error('Price fetch error:', e);
            }
          };

          const createWallet = async () => {
            setLoading(true);
            try {
              const w = ethers.Wallet.createRandom();
              const provider = getProvider();
              const balance = await provider.getBalance(w.address);
              
              setWallet({
                address: w.address,
                privateKey: w.privateKey,
                mnemonic: w.mnemonic.phrase,
                balance: ethers.utils.formatEther(balance)
              });
              
              showMsg('‚úÖ Wallet created successfully!', 'success');
              setView('wallet');
              fetchPrices();
            } catch (e) {
              showMsg('‚ùå Error: ' + e.message, 'error');
            }
            setLoading(false);
          };

          const importWallet = async () => {
            if (!seedInput.trim()) {
              showMsg('‚ùå Enter seed phrase', 'error');
              return;
            }

            setLoading(true);
            try {
              const w = ethers.Wallet.fromMnemonic(seedInput.trim());
              const provider = getProvider();
              const balance = await provider.getBalance(w.address);
              
              setWallet({
                address: w.address,
                privateKey: w.privateKey,
                mnemonic: w.mnemonic.phrase,
                balance: ethers.utils.formatEther(balance)
              });
              
              showMsg('‚úÖ Wallet imported successfully!', 'success');
              setSeedInput('');
              setView('wallet');
              fetchPrices();
            } catch (e) {
              showMsg('‚ùå Invalid seed phrase', 'error');
            }
            setLoading(false);
          };

          const refreshBalance = async () => {
            if (!wallet) return;
            setLoading(true);
            try {
              const provider = getProvider();
              const balance = await provider.getBalance(wallet.address);
              setWallet({...wallet, balance: ethers.utils.formatEther(balance)});
              fetchPrices();
              if (!isTestnet) {
                loadTokenBalances();
              }
              showMsg('‚úÖ Balance refreshed!', 'success');
            } catch (e) {
              console.error(e);
            }
            setLoading(false);
          };

          const send = async () => {
            if (!sendTo || !sendAmount) {
              showMsg('‚ùå Enter address and amount', 'error');
              return;
            }

            if (!ethers.utils.isAddress(sendTo)) {
              showMsg('‚ùå Invalid address', 'error');
              return;
            }

            setLoading(true);
            try {
              const provider = getProvider();
              const signer = new ethers.Wallet(wallet.privateKey, provider);
              
              const tx = await signer.sendTransaction({
                to: sendTo,
                value: ethers.utils.parseEther(sendAmount)
              });

              showMsg('‚úÖ Transaction sent! Hash: ' + tx.hash.substring(0, 10) + '...', 'success');
              
              setTxs([{
                hash: tx.hash,
                to: sendTo,
                amount: sendAmount,
                time: new Date().toLocaleString(),
                status: 'pending',
                type: 'send',
                chain: chain,
                symbol: chains[chain].symbol
              }, ...txs]);

              tx.wait().then(() => {
                setTxs(prev => prev.map(t => t.hash === tx.hash ? {...t, status: 'confirmed'} : t));
                showMsg('‚úÖ Transaction confirmed!', 'success');
                refreshBalance();
              });

              setSendTo('');
              setSendAmount('');
              setView('wallet');
            } catch (e) {
              showMsg('‚ùå ' + e.message, 'error');
            }
            setLoading(false);
          };

          const loadTokenBalances = async () => {
            if (!wallet || isTestnet) return;
            
            setLoadingTokens(true);
            const tokenAddresses = TOKEN_ADDRESSES[chain] || {};
            const tokenList = [];

            try {
              const provider = getProvider();
              
              for (const [symbol, address] of Object.entries(tokenAddresses)) {
                try {
                  const contract = new ethers.Contract(address, ERC20_ABI, provider);
                  const [balance, decimals, name] = await Promise.all([
                    contract.balanceOf(wallet.address),
                    contract.decimals(),
                    contract.name()
                  ]);

                  const formattedBalance = ethers.utils.formatUnits(balance, decimals);
                  
                  if (parseFloat(formattedBalance) > 0) {
                    tokenList.push({
                      symbol,
                      name,
                      address,
                      balance: formattedBalance,
                      decimals
                    });
                  }
                } catch (e) {
                  console.error(`Error loading ${symbol}:`, e);
                }
              }

              setTokens(tokenList);
            } catch (e) {
              console.error('Token loading error:', e);
            }
            
            setLoadingTokens(false);
          };

          const sendToken = async () => {
            if (!selectedToken || !sendTo || !sendTokenAmount) {
              showMsg('‚ùå Fill all fields', 'error');
              return;
            }

            if (!ethers.utils.isAddress(sendTo)) {
              showMsg('‚ùå Invalid address', 'error');
              return;
            }

            setLoading(true);
            try {
              const provider = getProvider();
              const signer = new ethers.Wallet(wallet.privateKey, provider);
              const contract = new ethers.Contract(selectedToken.address, ERC20_ABI, signer);
              
              const amount = ethers.utils.parseUnits(sendTokenAmount, selectedToken.decimals);
              const tx = await contract.transfer(sendTo, amount);

              showMsg(`‚úÖ ${selectedToken.symbol} sent! Hash: ${tx.hash.substring(0, 10)}...`, 'success');
              
              setTxs([{
                hash: tx.hash,
                to: sendTo,
                amount: sendTokenAmount,
                time: new Date().toLocaleString(),
                status: 'pending',
                type: 'token-send',
                chain: chain,
                symbol: selectedToken.symbol
              }, ...txs]);

              tx.wait().then(() => {
                setTxs(prev => prev.map(t => t.hash === tx.hash ? {...t, status: 'confirmed'} : t));
                showMsg('‚úÖ Token transfer confirmed!', 'success');
                loadTokenBalances();
              });

              setSendTo('');
              setSendTokenAmount('');
              setSelectedToken(null);
              setView('wallet');
            } catch (e) {
              showMsg('‚ùå Token send failed: ' + e.message, 'error');
            }
            setLoading(false);
          };

          useEffect(() => {
            if (view === 'receive' && qrRef.current && wallet) {
              qrRef.current.innerHTML = '';
              new QRCode(qrRef.current, {
                text: wallet.address,
                width: 200,
                height: 200,
                colorDark: darkMode ? "#ffffff" : "#000000",
                colorLight: darkMode ? "#1e1e2e" : "#ffffff",
              });
            }
          }, [view, wallet, darkMode]);

          useEffect(() => {
            if (wallet && !isTestnet) {
              loadTokenBalances();
            }
          }, [wallet, chain, isTestnet]);

          useEffect(() => {
            if (wallet) {
              refreshBalance();
            }
          }, [chain, isTestnet]);

          const copyToClipboard = (text) => {
            navigator.clipboard.writeText(text);
            showMsg('‚úÖ Copied to clipboard!', 'success');
          };

          const getUsdValue = () => {
            if (!wallet || !prices[chains[chain].symbol]) return 0;
            const symbol = chains[chain].symbol === 'ETH' && chain === 'BASE' ? 'ETH' : chains[chain].symbol;
            return (parseFloat(wallet.balance) * prices[symbol]).toFixed(2);
          };

          const nextIntroSlide = () => {
            if (introStep < introSlides.length - 1) {
              setIntroStep(introStep + 1);
            } else {
              setView('create');
            }
          };

          const skipIntro = () => {
            setView('create');
          };

          return (
            <div className={`min-h-screen ${darkMode ? 'dark' : ''}`}>
              <div className="animated-gradient min-h-screen p-4 md:p-8">
                
                {/* Intro Slides */}
                {view === 'intro' && (
                  <div className="max-w-2xl mx-auto min-h-screen flex items-center justify-center">
                    <div className="w-full fade-in">
                      <div className={`glass-card rounded-3xl p-12 text-center relative overflow-hidden`}>
                        {/* Background Gradient */}
                        <div className={`absolute top-0 left-0 right-0 h-2 bg-gradient-to-r ${introSlides[introStep].gradient}`}></div>
                        
                        {/* Icon */}
                        <div className="text-8xl mb-8 float-animation inline-block">
                          {introSlides[introStep].icon}
                        </div>
                        
                        {/* Title */}
                        <h1 className="text-4xl md:text-5xl font-black mb-6 gradient-text">
                          {introSlides[introStep].title}
                        </h1>
                        
                        {/* Description */}
                        <p className="text-lg md:text-xl text-gray-700 dark:text-gray-300 mb-12 leading-relaxed">
                          {introSlides[introStep].description}
                        </p>
                        
                        {/* Progress Dots */}
                        <div className="flex justify-center space-x-3 mb-8">
                          {introSlides.map((_, index) => (
                            <div
                              key={index}
                              className={`dot ${index === introStep ? 'dot-active' : ''}`}
                            />
                          ))}
                        </div>
                        
                        {/* Buttons */}<div className="flex flex-col sm:flex-row gap-4 justify-center">
                          <button
                            onClick={skipIntro}
                            className="px-8 py-4 rounded-2xl font-bold text-lg bg-gray-200 dark:bg-gray-700 hover-lift"
                          >
                            Skip
                          </button>
                          <button
                            onClick={nextIntroSlide}
                            className="px-8 py-4 premium-button text-white rounded-2xl font-bold text-lg hover-lift shadow-2xl"
                          >
                            {introStep === introSlides.length - 1 ? "Get Started üöÄ" : "Next ‚Üí"}
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

                {/* Header (only show after intro) */}
                {view !== 'intro' && (
                  <div className="max-w-4xl mx-auto mb-8 fade-in">
                    <div className="glass-card rounded-3xl p-6 flex justify-between items-center hover-lift relative overflow-hidden">
                      <div className="absolute inset-0 shimmer opacity-20"></div>
                      <div className="flex items-center space-x-4 relative z-10">
                        <div className="text-5xl hover-scale cursor-pointer">üíé</div>
                        <div>
                          <h1 className="text-3xl md:text-4xl font-black gradient-text">
                            BaintWallet
                          </h1>
                          <p className="text-xs md:text-sm text-gray-600 dark:text-gray-400 font-semibold">The Future of Crypto</p>
                        </div>
                      </div>
                      
                      <div className="flex items-center space-x-3 relative z-10">
                        <button
                          onClick={() => setDarkMode(!darkMode)}
                          className="p-3 rounded-xl glass hover-glow transition-all text-2xl"
                        >
                          {darkMode ? '‚òÄÔ∏è' : 'üåô'}
                        </button>
                        
                        {wallet && (
                          <button
                            onClick={() => {
                              setWallet(null);
                              setView('create');
                              setTxs([]);
                              setTokens([]);
                            }}
                            className="px-4 md:px-5 py-3 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-xl font-bold hover-lift shadow-lg text-sm md:text-base"
                          >
                            üö™ Logout
                          </button>
                        )}
                      </div>
                    </div>
                  </div>
                )}

                {/* Message Notification */}
                {message && (
                  <div className="max-w-4xl mx-auto mb-6 notification">
                    <div className={`glass-card rounded-2xl p-4 ${
                      message.includes('‚ùå') ? 'border-red-500' : 'border-green-500'
                    } border-2`}>
                      <p className="text-center font-semibold">{message}</p>
                    </div>
                  </div>
                )}

                <div className="max-w-4xl mx-auto">
                  {/* Create/Import View */}
                  {view === 'create' && !wallet && (
                    <div className="space-y-6 fade-in">
                      <div className="glass-card rounded-3xl p-8 md:p-10 hover-lift relative overflow-hidden">
                        <div className="absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-3xl"></div>
                        <div className="absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-blue-500/20 to-indigo-500/20 rounded-full blur-3xl"></div>
                        
                        <div className="text-center mb-10 relative z-10">
                          <div className="text-6xl md:text-7xl mb-6 float-animation inline-block">üöÄ</div>
                          <h2 className="text-3xl md:text-4xl font-black gradient-text mb-3">Create Your Wallet</h2>
                          <p className="text-gray-600 dark:text-gray-300 text-base md:text-lg font-medium">
                            Start your Web3 journey in seconds
                          </p>
                        </div>
                        
                        <div className="space-y-4 relative z-10">
                          <button
                            onClick={createWallet}
                            disabled={loading}
                            className="w-full py-4 md:py-5 premium-button text-white rounded-2xl font-bold text-lg md:text-xl hover-lift disabled:opacity-50 shadow-2xl"
                          >
                            {loading ? '‚è≥ Creating Magic...' : '‚ú® Create New Wallet'}
                          </button>
                          
                          <div className="relative py-4">
                            <div className="absolute inset-0 flex items-center">
                              <div className="w-full border-t-2 border-gray-300 dark:border-gray-600"></div>
                            </div>
                            <div className="relative flex justify-center text-sm">
                              <span className="px-6 bg-white dark:bg-gray-900 text-gray-500 font-bold uppercase tracking-wider">Or Import Existing</span>
                            </div>
                          </div>
                          
                          <textarea
                            value={seedInput}
                            onChange={(e) => setSeedInput(e.target.value)}
                            placeholder="Enter your 12-word seed phrase to import..."
                            className="w-full p-4 md:p-5 rounded-2xl border-2 border-purple-300 dark:border-purple-700 dark:bg-gray-800 focus:border-purple-500 focus:outline-none focus:ring-4 focus:ring-purple-500/20 transition-all text-sm md:text-base"
                            rows="3"
                          />
                          
                          <button
                            onClick={importWallet}
                            disabled={loading}
                            className="w-full py-4 md:py-5 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-2xl font-bold text-lg md:text-xl hover-lift disabled:opacity-50 shadow-2xl premium-button"
                          >
                            {loading ? '‚è≥ Importing Wallet...' : 'üì• Import Wallet'}
                          </button>
                        </div>
                      </div>
                      
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div className="glass-card rounded-2xl p-6 hover-lift">
                          <div className="text-3xl mb-3">üîí</div>
                          <h3 className="font-bold text-lg mb-2">Military-Grade Security</h3>
                          <p className="text-sm text-gray-600 dark:text-gray-400">
                            Your keys stay on your device. Always.
                          </p>
                        </div>
                        
                        <div className="glass-card rounded-2xl p-6 hover-lift">
                          <div className="text-3xl mb-3">‚ö°</div>
                          <h3 className="font-bold text-lg mb-2">Lightning Fast</h3>
                          <p className="text-sm text-gray-600 dark:text-gray-400">
                            Multi-chain support with instant switching
                          </p>
                        </div>
                        
                        <div className="glass-card rounded-2xl p-6 hover-lift">
                          <div className="text-3xl mb-3">üí∞</div>
                          <h3 className="font-bold text-lg mb-2">Token Management</h3>
                          <p className="text-sm text-gray-600 dark:text-gray-400">
                            Track and manage all your ERC-20 tokens
                          </p>
                        </div>
                        
                        <div className="glass-card rounded-2xl p-6 hover-lift">
                          <div className="text-3xl mb-3">üìä</div>
                          <h3 className="font-bold text-lg mb-2">Real-Time Prices</h3>
                          <p className="text-sm text-gray-600 dark:text-gray-400">
                            Live price tracking and portfolio value
                          </p>
                        </div>
                      </div>
                    </div>
                  )}

                  {/* Wallet View */}
                  {view === 'wallet' && wallet && (
                    <div className="space-y-6 fade-in">
                      {/* Balance Card */}
                      <div className={`glass-card rounded-3xl p-8 md:p-10 bg-gradient-to-br ${chains[chain].color} text-white hover-lift relative overflow-hidden shadow-2xl`}>
                        <div className="absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl"></div>
                        <div className="absolute bottom-0 left-0 w-96 h-96 bg-black/10 rounded-full blur-3xl"></div>
                        
                        <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 relative z-10">
                          <div className="mb-4 md:mb-0">
                            <p className="text-sm opacity-75 mb-2 font-semibold uppercase tracking-wider">Total Balance</p>
                            <h2 className="text-5xl md:text-6xl font-black mb-3 drop-shadow-lg">
                              {countingBalance.toFixed(4)}
                            </h2>
                            <div className="flex items-center space-x-2 flex-wrap">
                              <span className="text-2xl md:text-3xl font-bold">{chains[chain].symbol}</span>
                              <span className="text-lg opacity-75">‚Ä¢</span>
                              <span className="text-xl md:text-2xl font-semibold opacity-90">
                                ${getUsdValue()}
                              </span>
                            </div>
                          </div>
                          <div className="text-right">
                            <div className="text-6xl md:text-7xl mb-3 float-animation">{chains[chain].icon}</div>
                            <div className="text-base font-bold">{chains[chain].name}</div>
                            <div className="text-xs opacity-75 mt-1">{isTestnet ? 'üß™ Testnet' : 'üåê Mainnet'}</div>
                          </div>
                        </div>
                        
                        <div className="flex items-center justify-between pt-6 border-t-2 border-white/30 relative z-10 flex-wrap gap-4">
                          <div className="flex items-center space-x-3">
                            <div className={`w-3 h-3 rounded-full ${isTestnet ? 'bg-yellow-400' : 'bg-green-400'} animate-pulse shadow-lg`}></div>
                            <span className="font-semibold text-sm">Connected</span>
                          </div>
                          <button
                            onClick={refreshBalance}
                            disabled={loading}
                            className="px-6 py-3 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-all font-semibold flex items-center space-x-2 hover-lift"
                          >
                            <span className={loading ? 'spinner inline-block' : ''}>üîÑ</span>
                            <span>Refresh</span>
                          </button>
                        </div>
                      </div>

                      {/* Address Card */}
                      <div className="glass-card rounded-3xl p-6 hover-lift">
                        <div className="flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
                          <div className="flex-1 w-full md:w-auto">
                            <p className="text-sm text-gray-600 dark:text-gray-400 mb-1 font-semibold">Wallet Address</p>
                            <p className="font-mono text-xs md:text-sm break-all">{wallet.address}</p>
                          </div>
                          <button
                            onClick={() => copyToClipboard(wallet.address)}
                            className="w-full md:w-auto p-3 bg-purple-100 dark:bg-purple-900 rounded-xl hover-glow transition-all"
                          >
                            üìã Copy
                          </button>
                        </div>
                      </div>

                      {/* Network & Mode Selector */}
                      <div className="glass-card rounded-3xl p-6">
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                          <div>
                            <label className="block text-sm font-semibold mb-2">Select Chain</label>
                            <select
                              value={chain}
                              onChange={(e) => setChain(e.target.value)}
                              className="w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-800 focus:border-purple-500 focus:outline-none"
                            >
                              {Object.entries(chains).map(([key, c]) => (
                                <option key={key} value={key}>
                                  {c.icon} {c.name}
                                </option>
                              ))}
                            </select>
                          </div>
                          
                          <div>
                            <label className="block text-sm font-semibold mb-2">Network Mode</label>
                            <div className="flex space-x-2">
                              <button
                                onClick={() => setIsTestnet(true)}
                                className={`flex-1 py-3 rounded-xl font-semibold transition-all ${
                                  isTestnet
                                    ? 'bg-gradient-to-r from-purple-600 to-pink-600 text-white'
                                    : 'bg-gray-200 dark:bg-gray-700'
                                }`}
                              >
                                üß™ Testnet
                              </button>
                              <button
                                onClick={() => setIsTestnet(false)}
                                className={`flex-1 py-3 rounded-xl font-semibold transition-all ${
                                  !isTestnet
                                    ? 'bg-gradient-to-r from-purple-600 to-pink-600 text-white'
                                    : 'bg-gray-200 dark:bg-gray-700'
                                }`}
                              >
                                üåê Mainnet
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>

                      {/* Action Buttons */}
                      <div className="grid grid-cols-2 gap-4 md:gap-6">
                        <button
                          onClick={() => setView('send')}
                          className="glass-card rounded-3xl p-6 md:p-8 hover-lift text-center group relative overflow-hidden"
                        >
                          <div className="absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                          <div className="text-4xl md:text-5xl mb-3 group-hover:scale-110 transition-transform">üì§</div>
                          <div className="font-bold text-lg md:text-xl relative z-10">Send</div>
                          <div className="text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1">Transfer assets</div>
                        </button>
                        
                        <button
                          onClick={() => setView('receive')}
                          className="glass-card rounded-3xl p-6 md:p-8 hover-lift text-center group relative overflow-hidden"
                        >
                          <div className="absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                          <div className="text-4xl md:text-5xl mb-3 group-hover:scale-110 transition-transform">üì•</div>
                          <div className="font-bold text-lg md:text-xl relative z-10">Receive</div>
                          <div className="text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1">Get QR code</div>
                        </button>
                      </div>

                      {/* Tokens Section */}
                      {!isTestnet && (
                        <div className="glass-card rounded-3xl p-6 md:p-8 relative overflow-hidden">
                          <div className="absolute top-0 right-0 w-48 h-48 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 rounded-full blur-3xl"></div>
                          
                          <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 relative z-10 gap-4">
                            <div className="flex items-center space-x-3">
                              <span className="text-3xl">ü™ô</span>
                              <h3 className="font-bold text-xl md:text-2xl">Your Tokens</h3>
                            </div>
                            <button
                              onClick={loadTokenBalances}
                              disabled={loadingTokens}
                              className="w-full md:w-auto px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-bold hover-lift disabled:opacity-50 shadow-lg flex items-center justify-center space-x-2"
                            >
                              <span className={loadingTokens ? 'spinner inline-block' : ''}>üîÑ</span>
                              <span>{loadingTokens ? 'Loading...' : 'Refresh'}</span>
                            </button>
                          </div>
                          
                          {tokens.length === 0 ? (
                            <div className="text-center py-12 relative z-10">
                              <div className="text-6xl mb-4 opacity-50">üí∞</div>
                              <p className="text-gray-500 dark:text-gray-400 font-medium">
                                No tokens found. Click refresh to load your tokens.
                              </p>
                            </div>
                          ) : (
                            <div className="space-y-4 relative z-10">
                              {tokens.map((token, i) => (
                                <div
                                  key={i}
                                  className="flex justify-between items-center p-4 md:p-6 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-2xl hover-lift cursor-pointer border-2 border-transparent hover:border-purple-500 transition-all group"
                                  onClick={() => {
                                    setSelectedToken(token);
                                    setView('send-toendTokenAmount(selectedToken.balance)}
                              className="mt-2 text-sm text-purple-600 hover:text-purple-800 font-semibold"
                            >
                              Max: {parseFloat(selectedToken.balance).toFixed(6)} {selectedToken.symbol}
                            </button>
                          </div>
                          
                          <button
                            onClick={sendToken}
                            disabled={loading || !sendTo || !sendTokenAmount}
                            className="w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold text-lg hover-lift disabled:opacity-50 disabled:cursor-not-allowed"
                          >
                            {loading ? '‚è≥ Sending...' : `üöÄ Send ${selectedToken.symbol}`}
                          </button>
                        </div>
                      </div>
                    </div>
                  )}

                  {/* Receive View */}
                  {view === 'receive' && wallet && (
                    <div className="space-y-6 fade-in">
                      <div className="glass-card rounded-3xl p-6 md:p-8">
                        <div className="flex items-center mb-6">
                          <button
                            onClick={() => setView('wallet')}
                            className="mr-4 p-2 bg-gray-100 dark:bg-gray-800 rounded-lg hover-glow"
                          >
                            ‚Üê Back
                          </button>
                          <h2 className="text-2xl font-bold">Receive {chains[chain].symbol}</h2>
                        </div>
                        
                        <div className="text-center">
                          <div className="inline-block p-6 bg-white dark:bg-gray-800 rounded-2xl mb-6 shadow-lg">
                            <div ref={qrRef}></div>
                          </div>
                          
                          <p className="text-sm text-gray-600 dark:text-gray-400 mb-4 font-medium">
                            Scan QR code or copy address below
                          </p>
                          
                          <div className="p-4 bg-gray-50 dark:bg-gray-800 rounded-xl font-mono text-xs md:text-sm break-all mb-4">
                            {wallet.address}
                          </div>
                          
                          <button
                            onClick={() => copyToClipboard(wallet.address)}
                            className="w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold text-lg hover-lift"
                          >
                            üìã Copy Address
                          </button>
                          
                          <div className="mt-6 p-4 bg-yellow-50 dark:bg-yellow-900 dark:bg-opacity-20 rounded-xl">
                            <p className="text-sm font-semibold text-yellow-800 dark:text-yellow-200">
                              ‚ö†Ô∏è Only send {chains[chain].symbol} on {chains[chain].name} {isTestnet ? 'Testnet' : 'Mainnet'} to this address!
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                </div>

                {/* Footer */}
                {view !== 'intro' && (
                  <div className="max-w-4xl mx-auto mt-16 text-center">
                    <div className="glass-card rounded-2xl p-6 mb-6">
                      <div className="flex flex-wrap items-center justify-center gap-4 md:gap-8 text-white/80">
                        <div className="flex items-center space-x-2">
                          <span className="text-2xl">üîí</span>
                          <span className="font-semibold text-sm md:text-base">Secure</span>
                        </div>
                        <div className="hidden md:block w-px h-8 bg-white/20"></div>
                        <div className="flex items-center space-x-2">
                          <span className="text-2xl">‚ö°</span>
                          <span className="font-semibold text-sm md:text-base">Fast</span>
                        </div>
                        <div className="hidden md:block w-px h-8 bg-white/20"></div>
                        <div className="flex items-center space-x-2">
                          <span className="text-2xl">üåê</span>
                          <span className="font-semibold text-sm md:text-base">Multi-Chain</span>
                        </div>
                      </div>
                    </div>
                    <p className="text-white/70 text-sm font-medium">
                      Built with ‚ù§Ô∏è for the future of finance
                    </p>
                    <p className="text-white/50 text-xs mt-2">
                      Your keys, your crypto. Always.
                    </p>
                  </div>
                )}
              </div>
            </div>
          );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
